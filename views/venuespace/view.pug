extends ../layout

block content
  .container
    nav(aria-label="breadcrumb")
      ol.breadcrumb
        li.breadcrumb-item 
          a(href="/") 首頁
        li.breadcrumb-item 空間管理
    .row 
      .col.text-end.mb-2
        button.btn.btn-primary.btn-Detailed(type="button" data-id="0") 新增空間
    table.table#maintable
  script.
    document.addEventListener('DOMContentLoaded', function() {
      const table = new Tabulator("#maintable", {
        ajaxURL: "/venuespace" ,
        ajaxConfig: "get" ,
        ajaxContentType: "json",
        layout: "fitColumns" ,
        height: "100%" ,
        minHeight: 768 ,
        placeholder:"Awaiting Data, Please Load File",
        resizableColumnFit : true , 
        columns: [
          {title: "#", formatter: "rownum", headerHozAlign: "center",hozAlign: "center", width: 40,headerSort: false},
          {title: "空間名稱", field: "spaceName",headerHozAlign: "center",hozAlign: "center",},
          {title: "狀態", field: "isDisabledName",headerHozAlign: "center",hozAlign: "center"},
          {title: "最後變更日期", field: "updatedLocal" , headerHozAlign: "center",hozAlign: "center"},
          {title: "功能",field: "id",headerSort: false,headerHozAlign: "center",hozAlign: "center",
            formatter:function(cell ,  formatterParams ){
              let value = cell.getValue();
              return '<button type="button" class="btn btn-success btn-Detailed" data-id="'+value+'">修改</button>';
            }
          },
        ],
      });


    })